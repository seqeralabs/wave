---
title: Nextflow and Seqera Containers
description: Provision containers through Seqera Containers and use them in your Nextflow pipelines
tags: [wave, seqera containers, nextflow]
---

This guide describes how to provision containers that include [conda packages][conda] through [Seqera Containers][sc] and use them directly in your Nextflow pipelines. It includes:

- Requesting a conda package as a Seqera Container.
- Creating a Nextflow pipeline that uses the container.
- Running the Nextflow pipeline.

:::info[**Prerequisites**]
You will need the following to get started:

- Either [Docker Desktop] or [Podman] installed locally.
- [Nextflow] 23.10.x or newer installed locally.
- Singularity 4.x or newer to run the Singularity containers.
:::

## Request a conda package as a Seqera Container

1. Open [Seqera Containers][sc] in a browser.
1. In the search box, enter `samtools`.
1. In the search results, select **Add** in the `bioconda::samtools` result, and then **Get Container** to initiate the container build.
1. From the **Fetching container** modal, copy the container image URI that Seqera Containers provides.
1. Optional: Select **View build details** to watch Seqera Containers build the requested container in real time.

## Create a Nextflow pipeline that uses the container

Nextflow can use the container that Seqera Containers built in the previous section. Use the container URI from Seqera Containers in the `container` directive.

1. In a terminal window, create a new directory for the Nextflow pipeline.
1. Create a `nextflow.config` file with the following contents:

    ```groovy
    docker {
      enabled = true
    }
    ```

1. Create a `main.nf` file with the following contents:

    ```nextflow
    process SAMTOOLS {
      container '<CONTAINER_URI>'
      debug true
      """
      samtools --version-only
      """
    }
    workflow {
      SAMTOOLS()
    }
    ```

    Replace `<CONTAINER_URI>` with the container URI that you received from Seqera Containers in the previous section. For example:

    - `community.wave.seqera.io/library/samtools:1.20--b5dfbd93de237464` for linux/amd64.
    - `community.wave.seqera.io/library/samtools:1.20--497854c5df637867` for linux/arm64.

## Run the Nextflow pipeline

To confirm that the `samtools` command is available from your pipeline, run the following command:

```
nextflow run main.nf
```

If successful, you will see output similar to the following:

```
N E X T F L O W   ~  version 24.04.4

Launching `main.nf` [furious_carlsson] DSL2 - revision: 04817f962f

executor >  local (1)
[2f/d2ccc7] process > SAMTOOLS [100%] 1 of 1 âœ”
1.20+htslib-1.20
```

[sc]: https://seqera.io/containers/
[conda]: https://docs.conda.io/en/latest/
[Nextflow]: https://www.nextflow.io/docs/latest/install.html
[Podman]: https://podman.io/docs/installation
[Docker Desktop]: https://www.docker.com/products/docker-desktop/

[wave-build]: /wave_docs/wave_repo/docs/cli/reference.md#build-a-container
[nf-config]: /wave_docs/wave_repo/docs/nextflow.md#configuration-options
[wave-cli]: /wave_docs/wave_repo/docs/cli/index.md
